<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>


<style>
    *{margin: 0px;}
</style>

<script src="../js/lib.js"></script>
<script>
    var box1;
    var box2;
    var flag = false;
    function init(){
        box1 = document.getElementById("box1");
        box2 = document.getElementById("box2");

        box1.style.position="absolute";
        box1.style.left=100+"px";
        box1.style.top=200+"px";
        box1.style.background = "green";
        box1.style.width =100+"px";
        box1.style.height =100+"px";
        box1.style.color="#ffffff";

        box2.style.position="absolute";
        box2.style.left=600+"px";
        box2.style.top=200+"px";
        box2.style.background = "blue";
        box2.style.width =100+"px";
        box2.style.height =100+"px";
        box2.style.color="#ffffff";

        log(box1,100,200);
        log(box2,600,200);
    }

    //실시간 좌표 출력
    function log(obj,x,y){
        obj.innerText="x:"+x+" y:"+y;
    }

    function drag(){
        if(flag){
            box1.style.left=(event.clientX-50)+"px"
            box1.style.top=(event.clientY-50)+"px"

            log(box1,parseInt(box1.style.left),parseInt(box1.style.top));
            if(hitTest(box1,box2)){
                box2.style.background="red";
            }else{
                box2.style.background="blue";
            }
        }
    }


    //한번 누르면 들고다니고, 또한번 누르면 내려온다.
    function take(){
        flag=!flag;
    }

    window.addEventListener("load",function(){
        init();
    });
</script>

</head>
<body onmousemove="drag()">
    <div style="width:100%;height: 600px;background: yellow;">
        <div id="box1" onclick="take()"></div>
        <div id="box2"></div>
    </div>
</body>
</html>